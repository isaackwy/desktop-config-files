#!/bin/sh

# Clickable options. Code taken from Luke Smith: 
# https://raw.githubusercontent.com/LukeSmithxyz/voidrice/master/.local/bin/statusbar/sb-clock

# Do not send in SIGKILL (ex. pkill -9). I prefer sending a SIGHUP (ex. pkill -1)
# https://unix.stackexchange.com/questions/8916/when-should-i-not-kill-9-a-process

# Logic expressions as shorthand for if-else control:
# https://fabianlee.org/2020/10/14/bash-using-logic-expressions-as-a-shorthand-for-if-then-else-control/

hour=$(date '+%I')
case "$hour" in
	"00") icon="Û±ëñ" ;;
	"01") icon="Û±ëã" ;;
	"02") icon="Û±ëå" ;;
	"03") icon="Û±ëç" ;;
	"04") icon="Û±ëé" ;;
	"05") icon="Û±ëè" ;;
	"06") icon="Û±ëê" ;;
	"07") icon="Û±ëë" ;;
	"08") icon="Û±ëí" ;;
	"09") icon="Û±ëì" ;;
	"10") icon="Û±ëî" ;;
	"11") icon="Û±ëï" ;;
	"12") icon="Û±ëñ" ;;
esac

case $BLOCK_BUTTON in
    1) [ ! $(pidof gsimplecal) ] && setsid -f gsimplecal || pkill -1 gsimplecal ;;
    3) notify-send "üìÖ Time/date module" "\- Left click to open gsimplecal.\n- Left click again (while gsimplecal is running) to close gsimplecal." ;;
esac

# Display date (month+day) and time
echo "^b#abe9b3^^c#161320^ $icon $(date "+%R")"
